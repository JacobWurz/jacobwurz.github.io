<!DOCTYPE HTML>


<html>
	<head>
		<title>Visualization</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
			
			<!-- Load d3.js & color scale-->
			<script src="https://d3js.org/d3.v4.js"></script>
			<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	</head>

	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<div class="inner">
					<span class=""></span>
					
					<h1>Interactive Design</h1>
					<p>A project done by Jacob Wurz and Karla Lozada</p>
					<ul class="actions special">
						<li><a href="#one" class="button scrolly">Discover</a></li>
					</ul>


				</div>
			</section>

		<!-- One -->
			<section id="one" class="main style1">
				<div class="container">
					<div class="row gtr-150">
						<div class="">
							<header class="center">
								<h3><center></h3></center>
							</header>
							<div class ="content">
							<h2>Dataset</h2>
							<font size = "3">
							<h5>
						   I am from Ecuador, a small country in South America, where we are surrounded by 
						   nature but also petroleum. Growing up in Ecuador, I was able to be exposed to 
						   nature my whole life. However, the Amazon region of the country has a vast 
						   quantity of petroleum, which the government decided to extract. Even though 
						   extracting oil improves the economy of the country, Ecuador will have irreversible
						   damage in the Amazon forest and air quality. 
							</h5>
							<h5>
							For this project, we decided to analyze the GDP of Ecuador, which is the monetary 
							value of all finished goods and services made within a country during a specific period. 
							GDP provides an economic snapshot of the country, which is used to estimate the size of an 
							economy and growth rate. Also, we will use the levels of CO2 emission of Ecuador. We want to 
							compare both values to see if there is any relation between emissions from burning fossil fuels 
							and the GDP of the country. 	
							</h5>
							</font>

							<p>
								<font size = "3">
								The data is available online at:
								<strong>
								  <a href="https://data.worldbank.org/country/ecuador">DATASET</a>
								</strong>
								</font>
							  </p>


							  <h2>Visualization</h2>

							  <div id="my_dataviz"></div>

<!--START OF GRAPH CODE-->

<script>

// set the dimensions and margins of the graph
var margin = {top: 20, right: 30, bottom: 0, left: 10},
    width = 860 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#my_dataviz")
  .append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

// Parse the Data
d3.csv("https://raw.githubusercontent.com/JacobWurz/jacobwurz.github.io/master/196V/196data3.csv", function(data) {

        console.log(data.columns);
  // List of groups = header of the csv files
  var keys = data.columns.slice(3)  //.columns.slice(1).slice(1) takes out the "year" column
		console.log(keys);
  // Add X axis
  var x = d3.scaleLinear()
    .domain(d3.extent(data, function(d) { return d.year; }))
    .range([ 0, width ]);
  svg.append("g")
    .attr("transform", "translate(0," + height*0.8 + ")")
    .call(d3.axisBottom(x).tickSize(-height*.7).tickValues([1980, 1990, 2000]))
    .select(".domain").remove()
  // Customization
  svg.selectAll(".tick line").attr("stroke", "#b8b8b8")

  // Add X axis label:
  svg.append("text")
      .attr("text-anchor", "end")
      .attr("x", width)
      .attr("y", height-30 )
      .text("Year");

  // Add Y axis
  var y = d3.scaleLinear()
    .domain([-408, 408])
    .range([ height, 0 ]);
var yAxis = svg.append("g")
    .attr("transform", "translate(0," + height + ")")
    .call(d3.axisBottom(y).ticks(5))
	
  // color palette
  var color = d3.scaleOrdinal()
    .domain(keys)
    .range(d3.schemeDark2);

  //stack the data?
  var stackedData = d3.stack()
    .offset(d3.stackOffsetSilhouette)
    .keys(keys)
    (data)

  // create a tooltip
  var Tooltip = svg
    .append("text")
    .attr("x", 0)
    .attr("y", 0)
    .style("opacity", 0)
    .style("font-size", 17)

  // Three function that change the tooltip when user hover / move / leave a cell
  var mouseover = function(d) {
    Tooltip.style("opacity", 1)
    d3.selectAll(".myArea").style("opacity", .2)
    d3.select(this)
      .style("stroke", "black")
      .style("opacity", 1)
  }
  var mousemove = function(d,i) {
    grp = keys[i]
    Tooltip.text(grp)
  }
  var mouseleave = function(d) {
    Tooltip.style("opacity", 0)
    d3.selectAll(".myArea").style("opacity", 1).style("stroke", "none")
   }
  var mouseclick = function(d){
	console.log("test")
	y = d3.scaleLinear().domain([-50,50])
	yAxis.transition().duration(1000).call(d3.axisBottom(y).ticks(5))
  }
  // Area generator
  var area = d3.area()
    .x(function(d) { return x(d.data.year); })
    .y0(function(d) { return y(d[0]); })
    .y1(function(d) { return y(d[1]); })
	

  // Show the areas
  svg
    .selectAll("mylayers")
    .data(stackedData)
    .enter()
    .append("path")
      .attr("class", "myArea")
      .style("fill", function(d) { return color(d.key); })
      .attr("d", area)
      .on("mouseover", mouseover)
      .on("mousemove", mousemove)
      .on("mouseleave", mouseleave)
	  .on("click", mouseclick)
})
</script>
<!--FINISH OF GRAPH CODE-->
<h2>Implementation of the visualization</h2>

<font size = "3">
<h5>
	A rationale for your design decisions. How did you choose your particular visual encodings and interaction techniques? What alternatives did you consider and how did you arrive at your ultimate choices?
</h5>
<h5>
	An overview of your development process. Describe how the work was split among the team members. Include a commentary on the development process, including answers to the following questions: Roughly how much time did you spend developing your application (in people-hours)? What aspects took the most time?
		
	
</h5>


</font>




					</div>
							
						</div>
						
					</div>
				</div>
			</section>

		
		

	
	

		<!-- Footer -->
			<section id="footer">
				<ul class="icons">
					<li><a href="https://github.com/karlaloza1" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="https://github.com/JacobWurz" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Untitled</li><li>Design: Karla Lozada</li>
				</ul>
			</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
